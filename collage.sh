#! /bin/bash

set -x

#RXU='5' NITERS=20 NPITER=16000 MSGS='3072' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf
#RXU='10' NITERS=20 NPITER=16000 MSGS='3072' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf
#RXU='68' NITERS=20 NPITER=16000 MSGS='3072' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf
#RXU='5' NITERS=20 NPITER=16000 MSGS='5120' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf
#RXU='10' NITERS=20 NPITER=16000 MSGS='5120' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf
#RXU='68' NITERS=20 NPITER=16000 MSGS='5120' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf

#RXU='10 30 60 90' NITERS=20 NPITER=1000 MSGS='5120' TXQ='128 256 512 1024 2048 3072 4096 5120 6144 7168 8192' RXQ='128 256 512 1024 2048 3072 4096 5120 6144 7168 8192' OUTFILE=1 ./netpipe.sh gather

#RXU='5 10 20 30 40 50 60 70 80 90 100' NITERS=20 NPITER=25000 MSGS='70 128 198 256 423 512 673 758 894 982 1024' TXQ='512' RXQ='512' ./netpipe.sh gather
#RXU='8 10 12 14 16 18 20 30 40 50 56 58 60 62 64 70' NITERS=5 NPITER=4000 MSGS='64 128 256 372 512 768 1024 2048 3072 4096 5120 6144 7168 8192 12288 16384 24576 32768 49152 65536 98304 131072 196608 262144 323232 393216 444444 524288' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf

#RXU='8 10 12 14 16 18 20 22 24 28 30 32 40 50 58 60 62 64 70' NITERS=3 NPITER=70000 MSGS='70 100 200 300 400 500 600 700 800 900 1000' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf

#RXU='8 10 12 14 16 18 20 22 24 28 30 32 40 50 58 60 62 64 70' NITERS=3 NPITER=40000 MSGS='2000 3000 4000 5000 6000 7000 8000 10000' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf

#RXU='8 10 12 14 16 18 20 22 24 28 30 32 40 50 58 60 62 64 70' NITERS=3 NPITER=40000 MSGS='9300 9600 9900 10100 10200 10300' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf

RXU='8 10 12 14 16 18 20 22 24 28 30 32 40 50 58 60 62 64 70' NITERS=3 NPITER=40000 MSGS='9000 11000' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf


#RXU='8 10 12 14 16 18 20 22 24 28 30 32 40 50 58 60 62 64 70' NITERS=3 NPITER=20000 MSGS='15000 30000 50000 70000 90000 110000' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf

#RXU='8 10 12 14 16 18 20 22 24 28 30 32 40 50 58 60 62 64 70' NITERS=3 NPITER=11000 MSGS='130000 190000 260000' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf

#RXU='8 10 12 14 16 18 20 22 24 28 30 32 40 50 58 60 62 64 70' NITERS=3 NPITER=11000 MSGS='200000 300000' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf


#RXU='8 10 12 14 16 18 20 22 24 28 30 32 40 50 58 60 62 64 70' NITERS=3 NPITER=6000 MSGS='320000 400000 520000 600000' TXQ='512' RXQ='512' OUTFILE=1 ./netpipe.sh gatherPerf


#NITERS=5 NPITER=100000 MSGS='700' OUTFILE=1 ./netpipe.sh gatherPerf
#sleep 1
#NITERS=5 NPITER=100000 MSGS='1000' OUTFILE=1 ./netpipe.sh gatherPerf
#sleep 1
#NITERS=5 NPITER=100000 MSGS='3072' OUTFILE=1 ./netpipe.sh gatherPerf
#sleep 1
#NITERS=5 NPITER=100000 MSGS='5120' RXU='0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60 62 64 66 68 70 72 74 76 78 80' OUTFILE=1 ./netpipe.sh gatherPerf
#leep 1

#NITERS=5 NPITER=100000 MSGS='16000' RXU='0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60 62 64 66 68 70 72 74 76 78 80' OUTFILE=1 ./netpipe.sh gatherPerf
#sleep 1

#NITERS=5 NPITER=100000 MSGS='32000' OUTFILE=1 ./netpipe.sh gatherPerf
#sleep 1

#NITERS=5 NPITER=100000 MSGS='50000' RXU='0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60 62 64 66 68 70 72 74 76 78 80' OUTFILE=1 ./netpipe.sh gatherPerf
#sleep 1

#NITERS=5 NPITER=50000 MSGS='100000' RXU='0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60 62 64 66 68 70 72 74 76 78 80' OUTFILE=1 ./netpipe.sh gatherPerf
#sleep 1

#NITERS=5 NPITER=50000 MSGS='200000' RXU='0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60 62 64 66 68 70 72 74 76 78 80' OUTFILE=1 ./netpipe.sh gatherPerf
#sleep 1

#NITERS=5 NPITER=40000 MSGS='300000' RXU='0 2 4 6 8 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50 52 54 56 58 60 62 64 66 68 70 72 74 76 78 80' OUTFILE=1 ./netpipe.sh gatherPerf

